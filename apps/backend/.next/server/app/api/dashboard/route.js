"use strict";(()=>{var e={};e.id=707,e.ids=[707],e.modules={3524:e=>{e.exports=require("@prisma/client")},517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},5632:(e,a,t)=>{t.r(a),t.d(a,{headerHooks:()=>h,originalPathname:()=>D,requestAsyncStorage:()=>g,routeModule:()=>m,serverHooks:()=>S,staticGenerationAsyncStorage:()=>w,staticGenerationBailout:()=>C});var r={};t.r(r),t.d(r,{GET:()=>GET}),t(4388);var s=t(5789),n=t(4902),o=t(3002),i=t(3387),u=t(4443),d=t(5062),l=t(8928),p=t.n(l);let c=new o.PrismaClient;async function GET(e){let a=e.headers.get("userId"),t=await c.user.findFirst({where:{id:parseInt(a?.toString()),runs:{some:{createdAt:{gte:new Date(new Date().getFullYear(),0,1)}}}},include:{runs:!0}}),r=await c.qa.count(),s=t?.lastLogin,n=t?.runs,o=0,l=n?.reduce((e,a)=>{let t=p()(new Date(a.createdAt)).format("yyyy-MM-DD");return e[t]?e[t]+=1:e[t]=1,o++,e},{});return(0,u.r)({message:i.Z.SUCCESS,payload:{totalQuestionsCount:r,lastLogin:s,runsByDate:l,runsStartDate:new Date(new Date().getFullYear(),0,1),runsEndDate:new Date(new Date().getFullYear(),12,31),totalRuns:o},status:d.Z.OK})}let m=new s.AppRouteRouteModule({definition:{kind:n.x.APP_ROUTE,page:"/api/dashboard/route",pathname:"/api/dashboard",filename:"route",bundlePath:"app/api/dashboard/route"},resolvedPagePath:"C:\\Users\\91882\\Desktop\\slash\\apps\\backend\\app\\api\\dashboard\\route.ts",nextConfigOutput:"",userland:r}),{requestAsyncStorage:g,staticGenerationAsyncStorage:w,serverHooks:S,headerHooks:h,staticGenerationBailout:C}=m,D="/api/dashboard/route"},3002:(e,a,t)=>{var r=t(3524);t.o(r,"PrismaClient")&&t.d(a,{PrismaClient:function(){return r.PrismaClient}})},3387:(e,a,t)=>{t.d(a,{Z:()=>r});let r={SUCCESS:"success",ERROR:"error"}},4443:(e,a,t)=>{t.d(a,{r:()=>createResponse});var r=t(3387),s=t(5062);let createResponse=e=>Response.json({message:e.message||r.Z.SUCCESS,payload:e.payload||{}},{status:e.status||s.Z.OK})},5062:(e,a,t)=>{t.d(a,{Z:()=>r});let r={OK:200,BAD_REQUEST:400}}};var a=require("../../../webpack-runtime.js");a.C(e);var __webpack_exec__=e=>a(a.s=e),t=a.X(0,[701,928],()=>__webpack_exec__(5632));module.exports=t})();